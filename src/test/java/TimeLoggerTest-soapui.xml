<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="e26bf7a3-b7e6-4f75-83e4-2f4692c0fbda" activeEnvironment="Default" name="TimeLoggerTest" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="TimeLoggerTestSuite"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="RegisterAndLoginUser"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="2545c498-2162-42c0-8047-3df6e2f76727" wadlVersion="http://wadl.dev.java.net/2009/02" name="TimeLoggerTest" type="rest" definitionUrl="localhost" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints/><con:resource name="workmonths" path="/timelogger/workmonths" id="204bb170-5a1a-48a6-b6d6-fd98e380b29f"><con:settings/><con:parameters/><con:resource name="workdays" path="workdays" id="f71aa66a-f64d-468b-8ce7-02bbe93e9632"><con:settings/><con:parameters/><con:resource name="start" path="tasks/start" id="7fc1de29-f88c-405b-b8a1-bc086d4e01c5"><con:settings/><con:parameters/><con:method name="post" id="bf015c7b-3513-4772-a97e-d68e1147738c" method="POST"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="finish" path="tasks/finish" id="fbc67837-ed69-48ae-9afb-2cbb313c7451"><con:settings/><con:parameters/><con:method name="put" id="70d8e95d-51b7-435c-86a8-548b7d2aa7ff" method="PUT"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="modify" path="tasks/modify" id="929d5f63-7fc6-438a-a9ed-3494483bf091"><con:settings/><con:parameters/><con:method name="put" id="38f2eae1-3080-49d8-8a23-a70f506e40cd" method="PUT"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="delete" path="tasks/delete" id="3691d9e3-d033-42c7-b116-e8b5414f7bd1"><con:settings/><con:parameters/><con:method name="delete" id="fe27aca9-e8b3-4da4-b640-58045d4560b4" method="DELETE"><con:settings/><con:parameters/></con:method></con:resource><con:method name="post" id="09fe2210-96bd-48f4-ad73-d592296ed97a" method="POST"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="{month}" path="{year}/{month}" id="b8fe6329-1d2e-4df1-ab0e-a19c4dcdfdd6"><con:settings/><con:parameters><con:parameter><con:name>year</con:name><con:value>year</con:value><con:style>TEMPLATE</con:style><con:default>year</con:default></con:parameter><con:parameter><con:name>month</con:name><con:value>month</con:value><con:style>TEMPLATE</con:style><con:default>month</con:default></con:parameter></con:parameters><con:resource name="{day}" path="{day}" id="2495d439-0e49-4cbf-a83b-0453b79cdf7f"><con:settings/><con:parameters><con:parameter><con:name>year</con:name><con:value>year</con:value><con:style>TEMPLATE</con:style><con:default>year</con:default></con:parameter><con:parameter><con:name>month</con:name><con:value>month</con:value><con:style>TEMPLATE</con:style><con:default>month</con:default></con:parameter><con:parameter><con:name>day</con:name><con:value>day</con:value><con:style>TEMPLATE</con:style><con:default>day</con:default></con:parameter></con:parameters><con:method name="get" id="913f28e4-fdb3-4542-a981-d954e462dbc4" method="GET"><con:settings/><con:parameters/></con:method></con:resource><con:method name="get" id="0c451d47-5ddc-447f-880b-bd58ed8d2421" method="GET"><con:settings/><con:parameters/></con:method></con:resource><con:method name="post" id="62ef4929-d382-4c01-82a4-820c58991864" method="POST"><con:settings/><con:parameters/></con:method><con:method name="get" id="269903c7-2a9f-4f30-a8bf-0620590119af" method="GET"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="register-user" path="/timelogger/register-user" id="38ad65c5-bd95-4eb5-8d21-93616da075a0"><con:settings/><con:parameters/><con:method name="post" id="627eb4bc-7ba2-4e14-8994-48806711506c" method="POST"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="login-user" path="/timelogger/login-user" id="bde96ed9-e991-452d-8515-74fc91ae6dd9"><con:settings/><con:parameters/><con:method name="post" id="2595e36d-4292-431c-84ef-8e7793a94168" method="POST"><con:settings/><con:parameters/></con:method></con:resource><con:resource name="delete-user" path="/timelogger/delete-user" id="339b6cf8-d340-428e-a68a-74c7d0ad8973"><con:settings/><con:parameters/><con:method name="delete" id="87b66511-3597-4453-986b-4f6a02bba60d" method="DELETE"><con:settings/><con:parameters/></con:method></con:resource></con:interface><con:testSuite id="ede7c616-1098-4cc2-b328-daf8346b8905" name="TimeLoggerTestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="4aea8619-44bd-4f84-9753-4ac0e499a33f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="RegisterAndLoginUser" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="c06db074-915e-411f-bd0a-e39609c57a3c"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="registerSameUserAgain" id="dde3acdc-d896-472e-ae65-c9e02a833164"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerSameUserAgain" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>409</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="7d90e64f-bada-47a5-b07e-f12f392a95a1"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="12814d40-5b1e-46f5-8e9a-fad30270d686"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="4f89f20e-ba78-4f28-b107-ad03c9dfbc3d"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzYsInN1YiI6ImFkbWluIn0.HBJ8SweYJ-BdhrVqgivQEcJVVYm-zH2FElfF8a_tYFE</con:value></con:property></con:properties></con:testCase><con:testCase id="2d8d4dca-f3be-4c2b-a5e5-f38ce5684254" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="newWorkMonth" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="55996901-3394-4781-a735-d789958e8c8d"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="6f4ffe40-b52b-4357-8b82-0de70f4cef2e"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="438c39d3-d466-4c08-81ff-0d6c9f11403e"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth" id="ca4c723d-e264-48ee-8d70-e5e92d745fdd"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="a7479b30-a2b2-41d7-b2cb-2821a4074ff0"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="7c2b1f10-1f68-450d-94e8-3d366bb4628f"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzYsInN1YiI6ImFkbWluIn0.HBJ8SweYJ-BdhrVqgivQEcJVVYm-zH2FElfF8a_tYFE</con:value></con:property></con:properties></con:testCase><con:testCase id="056326c8-480e-45cf-80c5-31c8a29538cc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC1 - 2 different month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="bbb69b06-fc32-422f-ba0b-1c5fc79fc8b0"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="a6ff1927-698f-40c1-b325-fcb74ef3fe3a"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="ff624097-46d4-4831-8ec5-9653593cf6ed"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth1" id="62700599-11e9-4a58-a486-a612c0d41b41"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth1" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonth1Created" id="ed8989fd-18a1-4678-8191-e197081962df"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonth1Created" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth2" id="5b2d5084-e684-4d46-ad90-e77eaeab3293"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth2" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":10}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,10]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonth2Created" id="f7500c39-2079-4c2b-8917-94a471ba558c"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonth2Created" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(1) == [2016,10]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="5abb8f17-d3a2-4772-93dc-62b9b314ab26"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzYsInN1YiI6ImFkbWluIn0.HBJ8SweYJ-BdhrVqgivQEcJVVYm-zH2FElfF8a_tYFE</con:value></con:property></con:properties></con:testCase><con:testCase id="299d911d-88c2-46a9-9d31-45419da03040" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC2 - same workmonth again" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="d9a0cc31-4cc8-42c9-bd61-e732b3d9f057"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="72abb29f-f247-45cb-a9d3-9048daae281c"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="5bc78cde-7340-497c-978c-79ff6661ec13"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth" id="b5fbb16b-838f-4184-814a-8d8fde799d69"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="createSameWorkMonth" id="718e023c-3a82-468d-b702-473c5a4167d9"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createSameWorkMonth" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isOneWorkMonthCreated" id="d3a493f1-0b43-47ac-85a8-018eeda9475d"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isOneWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.size() == 1</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="b063e2ac-49c3-45d2-94e5-792106cbd473"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzYsInN1YiI6ImFkbWluIn0.HBJ8SweYJ-BdhrVqgivQEcJVVYm-zH2FElfF8a_tYFE</con:value></con:property></con:properties></con:testCase><con:testCase id="4ab02229-33f0-4e2a-8305-10effe0198cc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC3 - add workday to existing month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="d48cdd5f-2a36-4ad9-8472-76de6395f3b2"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="da067f64-c64e-4445-bda9-217f6a09d62f"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="b379670d-c9cc-4371-b6b3-93e140620055"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth" id="f39b3478-077d-4322-a119-a2ad656c4bb2"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="9d382648-8bbf-4c7b-aea1-221f35af15ba"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday" id="08e5eb63-a450-4662-8d3a-5a7b7f829a5e"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "requiredHours": 7.5}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,12]
assert slurperResponse.requiredMinPerDay == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="fa588a5c-d4c7-4ee0-b03a-1c1eb3a6629b"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="8f2e9964-dff6-4b0a-ab2e-1b4a6cd07716"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="afaab9f3-b504-45a6-87ed-f28b44b50ce6" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC4 - add workday to non-existing month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="9cf80087-af99-44b3-98e5-1d2e5f566810"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="49a59d58-d456-47aa-b931-7db41bf6a5d3"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="a17f2e17-5838-471e-b0cf-36e17ef3b99f"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday" id="e3aaa2a2-c0b4-4e14-8cc2-9a768deeefe1"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "requiredHours": 7.5}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,12]
assert slurperResponse.requiredMinPerDay == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="818d848e-7114-4d11-b0d7-dac461c2163a"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="360390b1-ab7f-48e8-9d7b-6cf3dbb6b02c"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="eade21a9-0017-402c-858e-da637d1ab004"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="68ca7d0c-d29c-469b-b54c-86092cdac6fe" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC5 - list workdays of month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="1b8b9426-3910-4ca6-a5d8-5bd8ce2b3296"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="e66ec6df-414b-4f8a-9504-d0f7c63cd6ab"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="7dbadd93-7e41-447a-bbd2-eec65caca4c9"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday1" id="e3bdaf06-51f5-4377-b0e7-a6bced70d5c6"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday1" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "requiredHours": 8}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,12]
assert slurperResponse.requiredMinPerDay == 480</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday2" id="9f297884-1651-480d-aafb-508c7463dca7"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday2" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 13, "requiredHours": 8}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,13]
assert slurperResponse.requiredMinPerDay == 480</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday3" id="a00ed91e-518a-4c77-884c-91d40b1e85fb"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday3" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 10, "day": 13, "requiredHours": 8}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,10,13]
assert slurperResponse.requiredMinPerDay == 480</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getDaysFromSpecifiedMonth" id="26044550-bca1-4eec-abab-68dd28a51ca0"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getDaysFromSpecifiedMonth" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.size() == 2
assert slurperResponse.actualDay.get(0) == [2016,9,12]
assert slurperResponse.actualDay.get(1) == [2016,9,13]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="48ab4e1c-219a-479a-84b7-45da171e0ded"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="d2c2fa67-864a-41ff-8953-86f4632459e0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC6 - list workdays of non-exits month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="2822e574-46c8-420d-9eec-2dee91a01a4e"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="ecd910d5-7b1a-4dc0-8e1b-a6a408866af8"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="0445154a-3cd5-4cb0-80a1-d7d5a0fc44d5"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="getDaysFromSpecifiedMonth" id="068214ae-8d12-4635-b7da-b2445eca6c34"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getDaysFromSpecifiedMonth" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse == []</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="baf16ee2-382c-4b8e-bf81-962f6a1beefd"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="92362b3b-bf42-494b-9479-310fcd9bf302" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC7 - add task to existing workday" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="6a713230-fa51-429f-b70d-dc522e2a8fb4"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="70fd929a-3995-41f6-9097-a0eedbc59ae6"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="9e04208a-a993-4e01-a9f2-4e620a29b26f"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth" id="68c156e0-9e73-4d6b-91e1-bfb25da8699d"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="612ce634-bf95-4f35-ba67-3b19e3a2f3a4"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday" id="f6464bad-276d-47b8-9a32-29274cca7585"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "requiredHours": 7.5}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,12]
assert slurperResponse.requiredMinPerDay == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="367dda34-3d18-410d-9dcb-b8fdfc595ed3"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="startTask" id="00264e51-b5aa-4314-8d46-e2c4897d3800"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isTaskCreated" id="9d38d917-6745-47d3-b897-d4cde72447a9"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isTaskCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
day=slurperResponse.days.get(0)
assert day.tasks.get(0).taskId.get(0) == "1111"
assert day.tasks.get(0).startTime.get(0) == [8,30]
assert day.tasks.get(0).endTime.get(0) == [23,59,59]
assert day.tasks.get(0).comment.get(0) == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="40d954f8-0fce-4121-a2db-48018b8acf46"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="7116d0ab-9617-42e4-921f-f93c1f66ba43" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC8 - add task to non-existing workday existing month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="21cb63b2-e587-49d3-a143-d11e771e873e"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="7f464f52-d006-4f58-9646-f7fd40bbb3ca"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="080c19ae-ccae-45b9-8e44-5778c864a760"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="createWorkMonth" id="88ee6599-83c6-4fcf-8820-1adc974f441f"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createWorkMonth" id="a010bf1a-ff36-4d1a-b8fb-5c2fb649a993" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year":2016, "month":9}</con:request><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a5fa8a73-f35b-4c62-a239-68a59c34f49c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="e853d476-2732-4c11-823c-5f04352e4c38" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="641587fe-33dd-42b9-ac92-f9fbb5bb33e5"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="startTask" id="aa477d12-e108-4777-b3d0-cfed470dd9fe"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="fcc3259e-d69a-402b-86ba-18296c99a012"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isTaskCreated" id="841fccbf-a3ba-4241-8eb8-c50392c02b5a"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isTaskCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
day=slurperResponse.days.get(0)
assert day.tasks.get(0).taskId.get(0) == "1111"
assert day.tasks.get(0).startTime.get(0) == [8,30]
assert day.tasks.get(0).endTime.get(0) == [23,59,59]
assert day.tasks.get(0).comment.get(0) == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="afa778a3-480a-49d9-8adf-c6ed4e117f0b"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="6d7ac2c8-fe6a-4ac0-9f94-3f25f3ec2e54" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC9 - add task to existing workday non-exist workmonth" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="27a77d7e-0985-459b-9c96-ad07b1f92db4"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="5d6d65bb-f733-49c8-aca9-f52dbca1f4c0"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="15bafa52-c7e1-47a2-96e1-57b125f68419"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday" id="b9a3b83b-9239-4d1a-b0a7-aa09ad0cd2ed"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "requiredHours": 7.5}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,12]
assert slurperResponse.requiredMinPerDay == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="34cf5a40-53f4-498e-bb3b-4b16d532aba7"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="35cf9bf3-80b2-4f43-940f-66e1500b0759"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="startTask" id="d8bf1a51-a559-49d4-a79e-0a5e61980931"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isTaskCreated" id="b18e059a-7a6a-483d-a7c9-e5389c791c27"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isTaskCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
day=slurperResponse.days.get(0)
assert day.tasks.get(0).taskId.get(0) == "1111"
assert day.tasks.get(0).startTime.get(0) == [8,30]
assert day.tasks.get(0).endTime.get(0) == [23,59,59]
assert day.tasks.get(0).comment.get(0) == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="d0126fa8-b783-4c35-b73c-d54b19e08cb7"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="61d47b79-df65-4234-a70b-f78d6050a145" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC10 - list tasks of workday" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="5c54828f-fce3-4496-a3d9-b69b7efb8043"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="c56dfe24-43ff-4aac-aa7b-0d8fd99e728a"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="089ac00c-807c-4fe5-932b-48ad425cf689"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="addWorkday" id="063e1dfa-6a41-4dcf-8f4d-5a1f12e2718c"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addWorkday" id="652a2afb-3ca0-44fe-bee7-6929e67724da" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "requiredHours": 7.5}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0bfb5dde-8a7e-4964-9c33-cf42a11193e5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="4d56b78d-76f3-48ad-a2b8-9790af6407d2" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.actualDay == [2016,9,12]
assert slurperResponse.requiredMinPerDay == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="startTask1" id="d46b1b8b-60ca-4939-aa6f-e1640312f109"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask1" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="finishTask1" id="83f2f379-2806-4090-b05e-861b35dbacce"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/finish" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="finishTask1" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "endTime": "09:00"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="startTask2" id="6b459f07-6a6b-4df8-9610-47da8aef6b84"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask2" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1112", "startTime": "09:00", "comment": "Testing rest 2."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1112"
assert slurperResponse.startTime == [9,0]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest 2."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="finishTask2" id="68b66ff7-4464-4a55-9a8a-90fa1b287423"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/finish" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="finishTask2" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1112", "startTime": "09:00", "endTime": "10:00"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getTasksFromSpecifiedDay" id="adf48265-3b8d-4604-86e4-84d41b0d51c7"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getTasksFromSpecifiedDay" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist.size() == 2
assert tasklist.get(0).taskId == "1111"
assert tasklist.get(0).startTime == [8,30]
assert tasklist.get(0).endTime == [9,0]
assert tasklist.get(0).comment == "Testing rest."

assert tasklist.get(1).taskId == "1112"
assert tasklist.get(1).startTime == [9,0]
assert tasklist.get(1).endTime == [10,0]
assert tasklist.get(1).comment == "Testing rest 2."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="359065ed-18fa-4bda-86e7-643f17238f36"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="74db4f27-2fac-40dd-b994-379f2bd4c42a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC11-12 - list tasks of non exist workday and workmonth" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="2ff57f91-4f26-40ed-a425-896be2107ddc"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="13a17ddc-bbed-4543-889f-42bb2c0d3c76"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="8dfee214-d737-461c-bb1c-43c97ab36423"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="getTasksFromSpecifiedDay" id="2a242b33-dbb7-4af8-b2ea-73da1b033932"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getTasksFromSpecifiedDay" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)
assert tasklist == []</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="1a9c2639-045b-4ef0-bd79-f4e7f9d76021"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="88625cb1-3b58-4fb1-9c6e-f671e1cd83cd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC13 - finish task" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="0c350a1a-4cc3-4a9a-af37-a35905c5a906"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="933bba62-2b35-4fde-8793-61e585ee4e2b"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="b80b1ae3-d968-48dc-8757-efda5dad6a49"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="startTask" id="c1e9ae18-c445-4636-95fe-b7297f55c688"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="finishTask" id="b48519a4-f46f-4a5a-bbff-b9d63e704812"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/finish" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="finishTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "endTime": "09:00"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="getTasksFromSpecifiedDay" id="d9e9755a-c857-4936-9099-ca2d5da99c9a"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getTasksFromSpecifiedDay" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist.get(0).taskId == "1111"
assert tasklist.get(0).startTime == [8,30]
assert tasklist.get(0).endTime == [9,0]
assert tasklist.get(0).comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="7691b886-7939-455d-913a-dd15b8296503"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="c088818f-9023-4266-bbaf-2db1a8f5591e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC14-15-16 - finish task when no task started with non exist day and month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="36ade111-3c4e-4a18-99a2-b3ae19f29338"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="fe00581d-e78f-42a6-86b2-ce975e4dcfaa"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="adda98dd-3eed-4fb9-b7f6-099620f0d00f"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="finishTask" id="dc64ff95-4066-4c33-bfc1-5ef99341a59e"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/finish" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="finishTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "endTime": "09:00"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="e7c997f3-a2af-4b48-b4f8-e78f2445c205"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="8b6c3c1f-d2d2-4bcd-8c08-905dd2c94bfd"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isTaskcorrectlySetted" id="c3667867-8cf0-4085-8361-9b42ee686740"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isTaskcorrectlySetted" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist.get(0).taskId == "1111"
assert tasklist.get(0).startTime == [8,30]
assert tasklist.get(0).endTime == [9,0]
assert tasklist.get(0).comment == ""</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="bba957e0-09b7-4ca9-96d5-5d8d14914568"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="471a0d99-5bd1-4c26-90ee-8f3d21502715" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC17 - modify task" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="4e799ab9-fbc9-40c6-974d-d3e9dd526fdf"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="1305943c-be65-4191-b7fb-3741b1d2af55"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="00e448af-b280-4e92-baed-05805da4784a"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="startTask" id="034a1eac-1a18-4c34-af67-9f2794b4a95b"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="finishTask" id="e1bd56fd-3e50-46d2-8d1a-15956602ad98"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/finish" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="finishTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "endTime": "09:00"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="modifyTask" id="75582bbd-37d5-4740-84d8-b40cbb91fb6e"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/modify" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="modifyTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "newTaskId": "2222","newStartTime":"08:45","newEndTime":"09:15","newComment":"Modified task."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isTaskModifiedCorrectly" id="2d66fd07-0885-49fa-8db7-1e429c6a9a67"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isTaskModifiedCorrectly" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist.get(0).taskId == "2222"
assert tasklist.get(0).startTime == [8,45]
assert tasklist.get(0).endTime == [9,15]
assert tasklist.get(0).comment == "Modified task."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="24b89782-398e-4cf6-a160-7d5fec7b574a"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="cdf1621d-8796-420e-9bd5-f778ceb0e6cd" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC18-19-20 - modify task when no task started with non exist day and month" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="3c1989ec-e90b-4024-8da5-41b3a85b6fa8"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="353e8439-b8e5-48ba-8df4-0a6b7d7b90bb"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="bf29eca2-a7fa-4369-a8ce-cd80614fc27e"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="modifyTask" id="7be06020-a2c0-42d9-b871-7dee596505a2"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/modify" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="modifyTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "newTaskId": "2222","newStartTime":"08:45","newEndTime":"09:15","newComment":"Modified task."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="e0af328f-5a76-4b5a-84c4-1b1c7acf7db7"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="4354aca2-c90a-4a4e-aaa6-3224694b961e"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isTaskcorrectlySetted" id="aeb5e83f-d83a-4aef-a014-95cf2a320196"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isTaskcorrectlySetted" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist.get(0).taskId == "2222"
assert tasklist.get(0).startTime == [8,45]
assert tasklist.get(0).endTime == [9,15]
assert tasklist.get(0).comment == "Modified task."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="00d6c17b-02df-4f7e-981e-a0fed2364b82"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:testCase id="3437d13f-f9b3-4102-9aaa-bda8b3ebca7a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TC21 - delete task" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="registerUser" id="41840a75-7080-4349-bbff-ea7def78448f"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/register-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="registerUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.name == "admin"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="loginUser" id="f9fa1dc3-faf6-4a5a-bdb9-decd33103258"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/login-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="loginUser" id="c398cf57-e18f-4a06-a70c-1e6caecbf537" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting><con:setting id="AutoInferSchemas">false</con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"name":"admin","password":"pass"}</con:request><con:originalUri>http://localhost/timelogger/register-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="933cad77-a88b-457a-a1d2-90926c959065" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="716e8ecf-5fc8-4ac2-885f-f52531a3d776" name="Script Assertion"><con:configuration><scriptText>def httpResponseHeaders = messageExchange.getResponseHeaders() 
assert httpResponseHeaders.keySet().contains("Authorization")
def token=httpResponseHeaders["Authorization"][0]
log.info token</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="jwt" id="776f240c-d960-4c61-ad97-fccc66264b7f"><con:settings/><con:config><script>token = testRunner.testCase.getTestStepByName("loginUser").httpRequest.response.responseHeaders["Authorization"][0]
log.info (token)
testRunner.testCase.setPropertyValue("token", token);</script></con:config></con:testStep><con:testStep type="restrequest" name="startTask" id="0f8e3516-b04f-4d04-8b4e-7ffa9039a7b9"><con:settings/><con:config service="TimeLoggerTest" methodName="post" resourcePath="/timelogger/workmonths/workdays/tasks/start" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="startTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "comment": "Testing rest."}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="84011a6f-05a2-4dc7-9c2a-78bf5bf8bbc1" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.taskId == "1111"
assert slurperResponse.startTime == [8,30]
assert slurperResponse.endTime == [23,59,59,999999999]
assert slurperResponse.comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="finishTask" id="dc311d54-dfcc-4101-8286-c6cec4498ce6"><con:settings/><con:config service="TimeLoggerTest" methodName="put" resourcePath="/timelogger/workmonths/workdays/tasks/finish" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="finishTask" id="83f5102d-25a6-45d0-85c8-14a871ca4706" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30", "endTime": "09:00"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/start</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7011ef81-bb5a-4e77-af91-3bde4657ca5d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthCreated" id="69a5cf3f-6896-4993-a1b6-77679b5a9f11"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayCreated" id="9fab202a-ffce-432c-8ae8-de485335978f"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayCreated" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="checkTaskCreated" id="5a4a4984-6e28-41b9-99bc-a4138420702b"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="checkTaskCreated" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist.get(0).taskId == "1111"
assert tasklist.get(0).startTime == [8,30]
assert tasklist.get(0).endTime == [9,0]
assert tasklist.get(0).comment == "Testing rest."</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteTask" id="cb2ed385-f60b-41cd-8f23-5268c734f5dd"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/workmonths/workdays/tasks/delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteTask" id="46911bd4-db8d-405b-9ede-adcee188678e" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request>{"year": 2016, "month": 9, "day": 12, "taskId": "1111", "startTime": "08:30"}</con:request><con:originalUri>http://localhost/timelogger/workmonths/workdays/tasks/delete</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bb9e021-f6e2-449f-a8f1-921029b50f32" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="checkTaskDeleted" id="b4eff2da-38e2-4d7c-bd7d-c89a85294850"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths/{year}/{month}/{day}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="checkTaskDeleted" id="838def6d-d10f-406b-9ca2-1a86895fb781" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths/2016/9</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f6bc9497-90ec-4099-ac7d-24adccabe600" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="58da1621-0948-45c9-8ab7-a57e618d99b9" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
tasklist = new JsonSlurper().parseText(responseContent)

assert tasklist == []</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="month" value="9"/>
  <con:entry key="year" value="2016"/>
  <con:entry key="day" value="12"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkMonthStillExist" id="95b2604e-6d96-4072-82a3-918f76e8784f"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkMonthStillExist" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.date.get(0) == [2016,9]</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="isWorkDayStillExist" id="6f6dd2ab-0deb-4ab4-b590-bfd4dc307ac1"><con:settings/><con:config service="TimeLoggerTest" methodName="get" resourcePath="/timelogger/workmonths" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isWorkDayStillExist" id="b78a5786-22a4-4849-8cd8-5d3a16dbc364" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/workmonths</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="8bdee144-22b4-4518-a46f-7add40c610fa" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="680ce135-c304-4065-a3f6-97973d210522" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def responseContent = messageExchange.response.responseContent
slurperResponse = new JsonSlurper().parseText(responseContent)
assert slurperResponse.days.get(0).actualDay.get(0) == [2016,9,12]
assert slurperResponse.days.get(0).requiredMinPerDay.get(0) == 450</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="deleteUser" id="c2e5adb3-ce4a-4e3d-8c8c-460c399e2685"><con:settings/><con:config service="TimeLoggerTest" methodName="delete" resourcePath="/timelogger/delete-user" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deleteUser" id="78f7a62e-4370-40ef-ae3c-5f12117b1ed3" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestCase#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint}</con:endpoint><con:request/><con:originalUri>http://localhost/timelogger/delete-user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a6d94f88-a4ae-4a2a-ac31-5db8d2b56132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>token</con:name><con:value>Bearer eyJraWQiOiJraWQiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1MTE1NDA2MzcsInN1YiI6ImFkbWluIn0.1laaqdSti6RibegU6RrjSkBR2tiPWF3UAie66H99V_Y</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>endpoint</con:name><con:value>http://localhost:8080</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>